"0",""
"0","#### You will need to update/clean the code below based off the variables you want to use in your poststratification."
"0",""
"0","bins <- census_data"
"0","vars3 <- c(""sex"", ""province"", ""education"", ""marital_status"", ""language"")"
"0","bins <- bins[vars3]"
"0",""
"0","bins <- setDT(bins)[,list(Count=.N), names(bins)]"
"0","N <- sum(bins$Count)"
"0","bins$proportion <- bins$Count / N"
"0",""
"0","bin <- lapply(bins, as.numeric)"
"0",""
"0","set.seed(201299)"
"0","bin$estimate <- reduced0 %>% predict(newdata = bin)"
"0",""
"0","bins$estimate <- bin$estimate"
"0","bins <- filter(bins, estimate >= 0 & estimate <= 1)"
"0",""
"0","#y_ps <- bins[c(51, 123, 5, 14, 228),]"
"0","y_ps <- bins"
"0","y_ps$y_ps <- y_ps$proportion * y_ps$estimate * 100"
"0",""
"0","y_ps <- y_ps %>% rename(count = Count)"
"0","y_ps$y_ps1 <- 100 - y_ps$y_ps"
"0",""
