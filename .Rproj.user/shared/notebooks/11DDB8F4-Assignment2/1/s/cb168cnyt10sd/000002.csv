"0",""
"0","# Here you can load in and clean the census data (you may need to do the cleaning in a separate R script). "
"0",""
"0","census_data <- read_csv(""gss_clean.csv"")"
"1","[1mRows: [22m[34m20602[39m [1mColumns: [22m[34m81[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (60): sex, place_birth_canada, place_birth_father, place_birth_mother, place_birth_macro_region, place_birth_pr...
[32mdbl[39m (20): caseid, age, age_first_child, age_youngest_child_under_6, total_children, age_start_relationship, age_at_...
[33mlgl[39m  (1): main_activity
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","# You may need additional chunks, in case you want to include some of the cleaning output."
"0",""
"0","vars2 <- c(""age"", ""province"", ""sex"", ""marital_status"", ""education"", ""religion_has_affiliation"", ""language_home"", ""income_family"")"
"0","census_data <- census_data[vars2]"
"0","census_data <- drop_na(census_data)"
"0","census_data$age <- round(census_data$age)"
"0","census_data$province[census_data$province == ""Newfoundland and Labrador""] <- 1"
"0","census_data$province[census_data$province == ""Prince Edward Island""] <- 2"
"0","census_data$province[census_data$province == ""Nova Scotia""] <- 3"
"0","census_data$province[census_data$province == ""New Brunswick""] <- 4"
"0","census_data$province[census_data$province == ""Quebec""] <- 5"
"0","census_data$province[census_data$province == ""Ontario""] <- 6"
"0","census_data$province[census_data$province == ""Manitoba""] <- 7"
"0","census_data$province[census_data$province == ""Saskatchewan""] <- 8"
"0","census_data$province[census_data$province == ""Alberta""] <- 9"
"0","census_data$province[census_data$province == ""British Columbia""] <- 10"
"0","census_data$province[census_data$province == ""Northwest Territories""] <- 11"
"0","census_data$province[census_data$province == ""Yukon""] <- 12"
"0","census_data$province[census_data$province == ""Nunavut""] <- 13"
"0","census_data$sex[census_data$sex == ""Male""] <- 1"
"0","census_data$sex[census_data$sex == ""Female""] <- 2"
"0","census_data$marital_status[census_data$marital_status== ""Married""] <- 1"
"0","census_data$marital_status[census_data$marital_status== ""Living common-law""] <- 2"
"0","census_data$marital_status[census_data$marital_status== ""Divorced""] <- 3"
"0","census_data$marital_status[census_data$marital_status== ""Separated""] <- 4"
"0","census_data$marital_status[census_data$marital_status== ""Widowed""] <- 5"
"0","census_data$marital_status[census_data$marital_status== ""Single, never married""] <- 6"
"0","census_data <- census_data[!(census_data$language_home == ""English, French and non-official language""),]"
"0","census_data <- census_data[!(census_data$language_home == ""English and non-official language ""),]"
"0","census_data <- census_data[!(census_data$language_home == ""French and non-official language""),]"
"0","census_data <- census_data[!(census_data$language_home == ""Non-official languages""),]"
"0","census_data <- census_data[!(census_data$language_home == ""Multiple non-official languages""),]"
"0","census_data <- census_data[!(census_data$language_home == ""English and non-official language""),]"
"0","census_data <- census_data[!(census_data$language_home == ""English and French""),]"
"0","census_data <- census_data %>% rename(language = language_home)"
"0","census_data$language[census_data$language== ""English""] <- 1"
"0","census_data$language[census_data$language== ""French""] <- 0"
"0","census_data$education[census_data$education == ""Bachelor's degree (e.g. B.A., B.Sc., LL.B.)""] <- 9"
"0","census_data$education[census_data$education == ""College, CEGEP or other non-university certificate or di...""] <- 7"
"0","census_data$education[census_data$education == ""High school diploma or a high school equivalency certificate""] <- 5"
"0","census_data$education[census_data$education == ""Less than high school diploma or its equivalent""] <- 3"
"0","census_data$education[census_data$education == ""Trade certificate or diploma""] <- 7"
"0","census_data$education[census_data$education == ""University certificate or diploma below the bachelor's level""] <- 7"
"0","census_data$education[census_data$education == ""University certificate, diploma or degree above the bach...""] <- 10"
"0","census_data <- census_data %>% rename(religion = religion_has_affiliation)"
"0","census_data$religion[census_data$religion == ""No religious affiliation""] <- 2"
"0","census_data$religion[census_data$religion == ""Has religious affiliation""] <- 1"
"0","census_data$religion[census_data$religion == ""Don't know""] <- 0"
"0","census_data <- census_data %>% rename(income = income_family)"
"0","census_data$income[census_data$income == ""Less than $25,000""] <- 1"
"0","census_data$income[census_data$income == ""$25,000 to $49,999""] <- 2"
"0","census_data$income[census_data$income == ""$50,000 to $74,999""] <- 3"
"0","census_data$income[census_data$income == ""$75,000 to $99,999""] <- 4"
"0","census_data$income[census_data$income == ""$100,000 to $ 124,999""] <- 5"
"0","census_data$income[census_data$income == ""$125,000 and more""] <- 6"
"0",""
